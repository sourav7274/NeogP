<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid mx-5">
          <a class="navbar-brand" href="index.html">Bookish</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="books.html">Books</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="facts.html">Facts</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <main class="mx-5">
        <h1 class="mt-3">Add a book</h1>
        <label for="titleI">Title:</label><br>
        <input type="text" class="form-control" name="" id="titleI"><br>
        <label for="authorI">Author:</label>
        <input type="text" class="form-control" name="" id="authorI"><br>
        <label for="">Genre:</label><br>
        <select name="" class="form-control" id="genreI">
            <option value="Classic">Classic</option>
            <option value="Science Fiction">Science Fiction</option>
            <option value="Music">Music</option>
            <option value="Magazine">Magazine</option>
            <option value="Technology">Technology</option>
        </select><br>
        <label for="">Media Type:</label><br>
        <select name="" class="form-control" id="mediaI">
            <option value="Book">Book</option>
            <option value="DVD">DVD</option>
            <option value="Magazine">Magazine</option>
            <option value="Digital Book">Digital Book</option>
        </select><br>
        <button id="addB" class="btn btn-primary">Add Book</button>

        <h2>Book List</h2>
       <div class="row">
         <div class="col">
            <label for="">Filter By Genre:</label><br>
            <select class="form-control" name="" id="genreF">
                <option value="All">All Books</option>
                <option value="Classic">Classic</option>
                <option value="Science Fiction">Science Fiction</option>
                <option value="Music">Music</option>
                <option value="Magazine">Magazine</option>
                <option value="Technology">Technology</option>
            </select>
         </div>
         <div class="col">
            <label for="">Filter By Media Type:</label><br>
            <select class="form-control" name="" id="mediaF">
                <option value="All">All Media</option>
                <option value="Book">Book</option>
                <option value="DVD">DVD</option>
                <option value="Magazine">Magazine</option>
                <option value="Digital Book">Digital Book</option>
            </select>
         </div>
       </div>
       <div class="mt-4">
            <ul id="show" class="list-group"></ul>
       </div>
      </main>

      <footer class="bg-dark text-center text-light mt-4 py-3">
        <p>&copy; 2024 Bookish. All Rights reserved</p>
      </footer>

      <script>
      const addB = document.getElementById("addB")
        const show = document.getElementById("show")
        const mediaF = document.getElementById("mediaF")
        const genreF = document.getElementById("genreF") 
     let books = [
      {
        id: 1,
        title: "The Great Gatsby",
        author: "F. Scott Fitzgerald",
        ISBN: "978-0-7432-7356-5",
        genre: "Classic",
        publicationYear: 1925,
        mediaType: "Book",
        availabilityStatus: "In Stock",
        location: "Fiction Section, Shelf A",
        condition: "Good"
      },
      {
        id: 2,
        title: "The Hitchhiker's Guide to the Galaxy",
        author: "Douglas Adams",
        ISBN: "978-0-345-39180-3",
        genre: "Science Fiction",
        publicationYear: 1979,
        mediaType: "Book",
        availabilityStatus: "Checked Out",
        location: "Science Fiction Section, Shelf B",
        condition: "New"
      },
      {
        id: 3,
        title: "The Beatles Anthology",
        author: "The Beatles",
        ISBN: "978-0811826846",
        genre: "Music",
        publicationYear: 2000,
        mediaType: "DVD",
        availabilityStatus: "On Hold",
        location: "Music Section, Shelf C",
        condition: "Fair"
      },
      {
        id: 4,
        title: "National Geographic",
        author: "Various",
        ISBN: "NG-MAG-2023-001",
        genre: "Magazine",
        publicationYear: 2023,
        mediaType: "Magazine",
        availabilityStatus: "In Stock",
        location: "Periodicals Section, Shelf D",
        condition: "Good"
      },
      {
        id: 5,
        title: "Database Management Essentials",
        author: "Abraham Silberschatz",
        ISBN: "978-0077079611",
        genre: "Technology",
        publicationYear: 2019,
        mediaType: "Digital Book",
        availabilityStatus: "In Stock",
        location: "Technology Section, Shelf E",
        condition: "New"
      },
    ];  

    addB.addEventListener("click",function(event){
        event.preventDefault()
        const title = document.getElementById("titleI").value
        const author = document.getElementById("authorI").value
        const genre = document.getElementById("genreI").value
        const media = document.getElementById("mediaI").value
        let id = books.length

        let obj = {
            title:title,
            author:author,
            genre:genre,
            media:media,
            id:id
        }
       
        books.push(obj)
        showData(books)


    })

        genreF.addEventListener("change",function(){
            let genre = genreF.value
            let list = []
            if(genre == "All")
            {
                list = books
            }
            else
            {
                for(let i=0;i<books.length;i++)
                {
                    if(books[i].genre == genre)
                    {
                        list.push(books[i])
                    }
                }
                
            }
            showData(list)
        })

        mediaF.addEventListener("change",function(){
            let media = mediaF.value
            let list = []
            if(media=="All")
            {
                list = books
            }
            else
            {
                for(let i=0;i<books.length;i++)
                {
                    if(books[i].mediaType==media)
                    {
                        list.push(books[i])
                    }
                }
            }
            showData(list)
        })



        function showData(val)
        {
            show.textContent = ""
            for(let i=0;i<val.length;i++)
            {
                const liE = document.createElement("li")
                liE.className = "list-group-item"
                liE.innerHTML = `
                <h4>${val[i].title}</h4>
                <a class="btn btn-primary float-end" href="details.html?id=${val[i].id}">Details</a>
                <p>Author: ${val[i].author}</p>                
                <p>Genre: ${val[i].genre}</p>                
                `
                show.appendChild(liE)
            }
        }



        showData(books)

      </script>
</body>
</html>